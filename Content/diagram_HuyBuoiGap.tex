\begin{figure}[H]
    \centering
    \includegraphics[width=1\linewidth]{Image/phanhoi-Trang-4.drawio.png}
    \caption{Sequence Diagram cho Hủy buổi gặp mặt}
\end{figure}
\begin{figure}[H]
    \centering
    \includegraphics[width=1\linewidth]{Image/phanhoi-Trang-3.drawio.png}
    \caption{Activity Diagram cho Hủy buổi gặp mặt}
\end{figure}

\textbf{Mô tả:}


\textbf{Luồng sự kiện chính: Hủy buổi gặp thành công}

\begin{enumerate}
\item Tutor truy cập vào hệ thống và chọn mục ``Hủy lịch''.
\item Hệ thống (UI) hiển thị danh sách buổi gặp đã được lên lịch.
\item Tutor chọn một buổi gặp cụ thể cần hủy.
\item Hệ thống hiển thị form yêu cầu nhập lý do hủy.
\item Tutor nhập lý do và nhấn ``Xác nhận''.
\item Hệ thống kiểm tra tính hợp lệ của dữ liệu (có nhập lý do, không chứa ký tự lỗi).
\item Nếu dữ liệu hợp lệ, hệ thống cập nhật trạng thái buổi gặp trong cơ sở dữ liệu (hủy buổi gặp) và cập nhật lại lịch rảnh của Tutor.
\item Khi lưu thay đổi thành công, hệ thống gửi phản hồi xác nhận cho UI.
\item UI hiển thị thông báo: ``Hủy buổi gặp thành công.'' 
\item Use case kết thúc.
\end{enumerate}

\textbf{Luồng phụ và luồng lỗi}

\begin{enumerate}
    \item \textbf{Sinh viên nhấn ``Hủy''}
    \begin{itemize}
        \item Khi form phản hồi đang hiển thị, nếu sinh viên chọn ``Hủy'', Hệ thống đóng form và không lưu bất kỳ thông tin nào.
        \item Use case kết thúc sớm.
    \end{itemize}

    \item \textbf{Dữ liệu không hợp lệ}
    \begin{itemize}
        \item Nếu sinh viên không nhập nội dung phản hồi hoặc nội dung không đạt yêu cầu, Hệ thống hiển thị thông báo lỗi:
        \begin{quote}
            ``Nội dung phản hồi không hợp lệ, vui lòng nhập lại.''
        \end{quote}
        \item Sau đó, giao diện quay lại form phản hồi ban đầu (reset form rỗng).
        \item Sinh viên có thể chọn nhập lại nội dung và gửi lại hoặc nhấn hủy.
    \end{itemize}

    \item \textbf{Lỗi khi lưu dữ liệu}
    \begin{itemize}
        \item Trong quá trình lưu phản hồi, nếu CSDL xảy ra lỗi (ví dụ: mất kết nối, lỗi truy vấn), Hệ thống bắt ngoại lệ và gọi bộ ghi log (\texttt{Log lỗi}) để ghi chi tiết sự cố.
        \item Sau đó, Hệ thống gửi phản hồi lỗi về cho UI.
        \item UI hiển thị thông báo:
        \begin{quote}
            ``Gửi phản hồi thất bại, vui lòng thử lại sau hoặc liên hệ bộ phận kỹ thuật.''
        \end{quote}
        \item Use case kết thúc không thành công.
    \end{itemize}
\end{enumerate}